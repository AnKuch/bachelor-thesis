\documentclass[11pt,a4paper,twoside]{book}
\usepackage{bachelorarbeit}
\usepackage{subfigure}
\usepackage{xspace}
\usepackage{graphicx}
\usepackage[center]{caption}
\usepackage[english]{babel}
\usepackage{tikz}
\usepackage{caption}
\usepackage{float}
\usepackage{relsize}
\usepackage{stmaryrd}
\usepackage{latexsym}
\usepackage[justification=centering]{caption}
\usepackage{setspace}
%\onehalfspacing
\setstretch {0.99}

\setlength{\headheight}{52pt}
\setlength{\parindent}{0em} %Einr√ºcken verhindern
\setcounter{tocdepth}{5}

% Zum Setzen von URLs
\usepackage{color}
\definecolor{darkred}{rgb}{.25,0,0}
\definecolor{darkgreen}{rgb}{0,.2,0}
\definecolor{darkmagenta}{rgb}{.2,0,.2}
\definecolor{darkcyan}{rgb}{0,.15,.15}
\usepackage[plainpages=false,bookmarks=true,bookmarksopen=true,colorlinks=true,
  linkcolor=darkred,citecolor=darkgreen,filecolor=darkmagenta,
  menucolor=darkred,urlcolor=darkcyan]{hyperref}

% Hier die eigenen Daten eintragen
\global\arbeit{Bachelor-Thesis}
\global\titel{Noninterference in the Take-Grant Model for the seL4 Microkernel}
\global\bearbeiter{Andrea Kuchar}
\global\betreuer{Dr Martin Hofmann, PD Dr Ulrich Sch\"opp}
\global\abgabetermin{07-27-2018}
\global\ort{Munich}
\global\fach{Computer Science}

\geometry{
  left=2.5cm,
  right=3.5cm,
  top=2.5cm,
  bottom=2.5cm,
}
\setcounter{secnumdepth}{5}

\pgfdeclareimage [ width =14 cm ]{RemoveGraphic1}{Pictures/RemoveGraphicOld/RemoveGraphic1}
\pgfdeclareimage [ width =14 cm ]{WriteGraphic1}{Pictures/WriteGraphicOld/WriteGraphic1}
\pgfdeclareimage [ width =14 cm ]{CreateUMO}{Pictures/CreateUMO/CreateUMO}
\pgfdeclareimage [ width =14 cm ]{CreateOther}{Pictures/CreateUMO/CreateOther}
\pgfdeclareimage [ width =14 cm ]{CreateOutside}{Pictures/CreateUMO/CreateOutside}
\pgfdeclareimage [ width =15 cm ]{OverviewObjects2}{Pictures/OverviewObjects/OverviewObjectDomains2}
\pgfdeclareimage [ width =14 cm ]{GrantTCB}{Pictures/GrantTCB/GrantTCB}
\pgfdeclareimage [ width =14 cm ]{GrantOthers}{Pictures/GrantTCB/GrantOthers}
\pgfdeclareimage [ width =14 cm ]{GrantOutside}{Pictures/GrantTCB/GrantOutside}
\pgfdeclareimage [ width =14 cm ]{WriteTCB}{Pictures/WriteTCB/WriteTCB}
\pgfdeclareimage [ width =14 cm ]{WriteOthers}{Pictures/WriteTCB/WriteOthers}
\pgfdeclareimage [ width =14 cm ]{WriteOutside}{Pictures/WriteTCB/WriteOutside}
\pgfdeclareimage [ width =14 cm ]{WriteOutside2}{Pictures/WriteTCB/WriteOutside2}
\pgfdeclareimage [ width =14 cm ]{ReadTCB}{Pictures/ReadTCB/ReadTCB}
\pgfdeclareimage [ width =14 cm ]{ReadOthers}{Pictures/ReadTCB/ReadOthers}
\pgfdeclareimage [ width =14 cm ]{ReadOutside}{Pictures/ReadTCB/ReadOutside}
\pgfdeclareimage [ width =14 cm ]{ReadOutside2}{Pictures/ReadTCB/ReadOutside2}
\pgfdeclareimage [ width =14 cm ]{RemoveCNode}{Pictures/RemoveCNode/RemoveCNode}
\pgfdeclareimage [ width =14 cm ]{RemoveOthers}{Pictures/RemoveCNode/RemoveOthers}
\pgfdeclareimage [ width =14 cm ]{RemoveOutside}{Pictures/RemoveCNode/RemoveOutside}
\pgfdeclareimage [ width =14 cm ]{RemoveOutside2}{Pictures/RemoveCNode/RemoveOutside2}
\pgfdeclareimage [ width =14 cm ]{RevokeCNode}{Pictures/RevokeCNode/RevokeCNode}
\pgfdeclareimage [ width =14 cm ]{RevokeOthers}{Pictures/RevokeCNode/RevokeOthers}
\pgfdeclareimage [ width =14 cm ]{RevokeOutside}{Pictures/RevokeCNode/RevokeOutside}
\pgfdeclareimage [ width =14 cm ]{RevokeOutside2}{Pictures/RevokeCNode/RevokeOutside2}

\begin{document}
	
% Cover
\deckblatt
	
	
% Declaration of authorship
\declaration
\pagenumbering{Roman}
\selectlanguage{english}

% Abstract
\clearpage
\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}
	
The thesis investigates the question whether the specification of the seL4 access control system is strong enough to verify Noninterference properties on it. I analyse the Take-Grant-Protection Model \cite{TakeG} and extend it for showing the Noninterference properties \cite{InfFlow} on each of its system operations. 
As the specifications and proofs of the take-grant model are developed in the theorem proof assistant Isabelle/HOL, I use the same to formalise my datatypes and functions. 
	

\newpage
%Abbildungsverzeichnis
\listoffigures
\newpage
% tableofcontents
\tableofcontents

	
\clearpage
% Hier beginnt der eigentliche Text
\input{Introduction}
	 
\newpage
\chapter{Requirements}
\input{seL4}
\input{TakeGrant}
\input{Noninterference}
\newpage
\input{FormalisationTG} 
\input{FormalisationNon}
\input{Validation1}
\input{Redesign}
\chapter{Validation with the new model}\label{ValNew}
Now I whant to show that noninterference is valid for all system operations in the new defined model. \\ \\
\textbf{Theorem 1:}\\ 
\textit{Let \texttt{s} an \texttt{t} be well defined states. That means: 
\begin{itemize}
\item They are reachable from the initial state s$_0$.
\item They only include the in Chapter \ref{Redesign} defined object types.
\item The capabilities pointing on \texttt{Shared Pages (SPage)} and \texttt{Asynchronous IPC Endpoints (AEP)} correspond to the rights the \texttt{Initial Resource Manager (IRM)} assigned the domains at boottime, corresponding to the given information flow policy. I this case D1$\leadsto$D2.
\item If information is also allowed to flow from domain 2 to domain 1 then s and t are equivalent for domain 2.
\end{itemize}
If \texttt{s} and \texttt{t} are equivalent for domain 1 (s $\overset{\text{D1}}{\sim}$ t) the the states \texttt{s'} and \texttt{t'} are still equivalent for D1 (s' $\overset{\text{D1}}{\sim}$ t'), after the execution of a system operation \texttt{a}.} \\ \\
\textbf{Lemma 1:}\\
\textit{If the information flow policy allows information to flow from D1 to D2 the IRM gives D1 write right on the \texttt{SPage} and \texttt{AEP} and D2 read rights on both of them. If it is allowed to flow from D2 to D1 it is the other way arround. \\
As the only way to get new rights on an object is through the \texttt{SysCreate} or \texttt{SysGrant} operations and the only connection out of daomains are those to the \texttt{SPages} and \texttt{AEPs}, the maximum of rights adomain can get on these objects is the set of rights it got from the \texttt{IRM} at boot time.} \\ \\
\textbf{Proof:}
I examine each operation of the protection model and distinguish therefore between the different object types. \\
For this I assume that Domain 1 equates a low level domain and Domain 2 a high level domain. So  information is allowed to flow from Domain 1 to Domain 2 but not from Domain 2 to Domain 1. \\ \\
\textbf{D1$\leadsto$D2 but D2$\not\leadsto$D1} \\ \\
Further I assume:
\begin{itemize}
\item State s is equivalent to state t for Domain 1, what is represented by the function  \texttt{aquiv$\_$nonin}: \\ 
\textbf{s $\overset{\text{D1}}{\sim}$ t $\equiv$ aquiv$\_$nonin s t D1}	\\ 
\item The states s and t are reachable from the initial state s$_0$.
\item The included object types correspond to those defined in Chapter \ref{Redesign}.
\item Because of \textit{Lemma 1} I can assume that the connections on \texttt{SPages} and \texttt{AEPs} are well defined as claimed in \textit{Theorem 1}.
\end{itemize} 
In this Chapter I show that the criteria for the equivalence relation still holds in Domain 1, between s' and t', after the execution of every type of system operation. 
\input{Create}
\clearpage
\input{Grant}
\clearpage
\input{Write} 
\clearpage
\input{Read}
\clearpage
\input{Remove}
\clearpage
\input{Revoke}
\clearpage
\input{Conclution}
\clearpage
	\begin{thebibliography}{99}

	\bibitem{TakeG}
	D.\ Elkaduwe, G.\ Klein and K.\ Elphinstone:	\\ 
	\href{http://ts.data61.csiro.au/publications/nicta_full_text/1474.pdf}{%
		Verified Protection Model of the seL4 Microkernel}. \\
   	Technical Report NRL-1474, NICTA, October, 2007
   	
   	\bibitem{sel4}
	J.\ Andronick T.\ Bourke P.\ Derrin D.\ Greenaway D.\ Elkaduwe, G.\ Klein and K.\ Elphinstone R.\ Kolanski D.\ Matichuk T.\ Sewell S.\ Winwood:	\\ 
	\href{https://sel4.systems/Info/Docs/seL4-spec.pdf}{%
		Abstract Formal Specification of the seL4/ARMv6 API}. \\
   	Version 1.3
   	
   	\bibitem{Noninf}
	D.\ von Oheimb	\\ 
	\href{https://pdfs.semanticscholar.org/21ea/6c722535ed0a22175187796b43c114e14ee8.pdf}{%
		Information flow control revisited: Noninfluence = Noninterference + Nonleakage}. \\
   	In \textit{9th ESORICS}, volume 3193 of \textit{LNCS}, pages 225-243, 2004.
   	
   	 	\bibitem{PhDseL4}
	D.\ Elkaduwe:	\\ 
	\href{https://ts.data61.csiro.au/publications/papers/Elkaduwe:phd.pdf}{%
		A Principled Approach To Kernel Memory Management}. \\
   	PhD Thesis, UNSW CSE, Sydney, Australia, March, 2010

	\bibitem{Manual}
	M.\ Grosvenor and A.\ Walker:	\\ 
	\href{http://sel4.systems/Info/Docs/seL4-manual-latest.pdf}{%
		seL4 Reference Manual}. \\
   	Version 10.0.0
   	
   	\bibitem{InfFlow}
	G.\ Smith:\\ \href{http://users.cis.fiu.edu/~smithg/papers/sif06.pdf}{%
		Principles of Secure Information Flow Analysis}.
	 \\
   	Chapter 13 (pp. 291-307) of Malware Detection,  Springer-Verlag, 2007
   	
   	\bibitem{EngTec}
   	J.N.\ Buxton and B.\ Randell:\\
   	\href{http://homepages.cs.ncl.ac.uk/brian.randell/NATO/nato1969.PDF}{%
   		Software engeneering techniques}. \\
   		Report on a conference sponsored by the NATO science committee, Rome, Italy, 27th to 31st October 1969
   		
   	\bibitem{1TG}
   	R.\ J.\ Lipton and L.\ Snyder:\\
   	\href{https://www.cs.nmt.edu/~doshin/t/s06/cs589/pub/2.JLS-TG.pdf}{%
"A Linear Time Algorithm for Deciding Subject Security"}. \\
1977
\end{thebibliography}
	
\end{document}